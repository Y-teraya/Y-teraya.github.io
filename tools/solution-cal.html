<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>LabCalc - æº¶æ¶²èª¿è£½ãƒ»æ¿ƒåº¦å¤‰æ›</title>
    <style>
        body { font-family: sans-serif; line-height: 1.6; max-width: 800px; margin: 20px auto; padding: 20px; background: #f4f7f6; }
        .card { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); margin-bottom: 20px; }
        h2 { border-left: 5px solid #2c3e50; padding-left: 10px; color: #2c3e50; }
        .input-group { margin-bottom: 10px; display: flex; align-items: center; }
        label { width: 180px; font-weight: bold; }
        input { padding: 8px; border: 1px solid #ddd; border-radius: 4px; width: 100px; }
        .result { margin-top: 15px; padding: 10px; background: #e8f4fd; border-radius: 4px; font-weight: bold; color: #0056b3; }
    </style>
</head>
<body>

<h1>ğŸ§ª Lab Solution Calculator</h1>

<div class="card">
    <h2>1. Stockæº¶æ¶²ã®å¸Œé‡ˆ (C1V1 = C2V2)</h2>
    <div class="input-group">
        <label>Stockæ¿ƒåº¦ (C1):</label>
        <input type="number" id="c1" placeholder="10" oninput="calcDilution()"> <span id="u1">mM</span>
    </div>
    <div class="input-group">
        <label>ä½œæˆã—ãŸã„æ¿ƒåº¦ (C2):</label>
        <input type="number" id="c2" placeholder="1" oninput="calcDilution()"> <span>ã¨åŒã˜å˜ä½</span>
    </div>
    <div class="input-group">
        <label>ä½œæˆã—ãŸã„æ¶²é‡ (V2):</label>
        <input type="number" id="v2" placeholder="100" oninput="calcDilution()"> <span>mL</span>
    </div>
    <div class="result" id="dilutionResult">å¿…è¦ãªStocké‡ (V1): --- mL</div>
</div>

<div class="card">
    <h2>2. è¦å®šåº¦(N) ã¨ ãƒ¢ãƒ«æ¿ƒåº¦(M)</h2>
    <div class="input-group">
        <label>ãƒ¢ãƒ«æ¿ƒåº¦ (M):</label>
        <input type="number" id="molar" placeholder="0.1" oninput="calcNormality(0)"> <span>mol/L</span>
    </div>
    <div class="input-group">
        <label>ä¾¡æ•° (z):</label>
        <input type="number" id="valence" value="1" oninput="calcNormality(0)">
    </div>
    <div class="input-group">
        <label>è¦å®šåº¦ (N):</label>
        <input type="number" id="normal" placeholder="0.1" oninput="calcNormality(1)"> <span>eq/L</span>
    </div>
    <p style="font-size: 0.8em; color: #666;">â€» N = M Ã— ä¾¡æ•°</p>
</div>

<div class="card">
    <h2>3. pH â†” [H+] å¤‰æ›</h2>
    <div class="input-group">
        <label>pHå€¤:</label>
        <input type="number" id="phVal" step="0.1" placeholder="7.0" oninput="calcPH(0)">
    </div>
    <div class="input-group">
        <label>æ°´ç´ ã‚¤ã‚ªãƒ³æ¿ƒåº¦ [H+]:</label>
        <input type="text" id="hConc" placeholder="1.0e-7" oninput="calcPH(1)"> <span>mol/L</span>
    </div>
</div>

<script>
    function calcDilution() {
        const c1 = document.getElementById('c1').value;
        const c2 = document.getElementById('c2').value;
        const v2 = document.getElementById('v2').value;
        if (c1 && c2 && v2) {
            const v1 = (c2 * v2) / c1;
            document.getElementById('dilutionResult').innerText = `å¿…è¦ãªStocké‡ (V1): ${v1.toFixed(4)} mL`;
        }
    }

    function calcNormality(mode) {
        const m = document.getElementById('molar');
        const n = document.getElementById('normal');
        const z = document.getElementById('valence').value || 1;
        if (mode === 0 && m.value) {
            n.value = (m.value * z).toFixed(4);
        } else if (mode === 1 && n.value) {
            m.value = (n.value / z).toFixed(4);
        }
    }

    function calcPH(mode) {
        const ph = document.getElementById('phVal');
        const h = document.getElementById('hConc');
        if (mode === 0 && ph.value) {
            h.value = Math.pow(10, -ph.value).toExponential(4);
        } else if (mode === 1 && h.value) {
            ph.value = (-Math.log10(h.value)).toFixed(2);
        }
    }
</script>

</body>
</html>